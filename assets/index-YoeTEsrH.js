import{r,j as i}from"./index-B4A1g6Ej.js";function d(){const[o,l]=r.useState({lat:null,lon:null}),c=r.useRef(null);return r.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{const{latitude:n,longitude:s}=t.coords;l({lat:n,lon:s})},t=>{console.error("Lỗi xác định vị trí:",t)}):console.error("Trình duyệt không hỗ trợ Geolocation.")},[]),r.useEffect(()=>{if(o.lat&&o.lon&&!c.current){const t=(n,s)=>{const e=document.createElement("script");e.src=n,e.async=!0,e.onload=s,e.onerror=()=>console.error(`Không tải được script: ${n}`),document.body.appendChild(e)};t("https://unpkg.com/leaflet@1.4.0/dist/leaflet.js",()=>{t("https://api.windy.com/assets/map-forecast/libBoot.js",()=>{window.windyInit&&window.L?window.windyInit({key:"UeD1hfHz9sJXWll3AUcxMF3WSoqk8kkf",lat:o.lat,lon:o.lon,zoom:8}):console.error("Windy hoặc Leaflet chưa được tải đúng cách.")})})}},[o]),i.jsxs("div",{children:[!o.lat&&i.jsx("p",{children:"Đang lấy vị trí..."}),i.jsx("div",{id:"windy",style:{width:"100%",height:"1000px"}})]})}export{d as default};
